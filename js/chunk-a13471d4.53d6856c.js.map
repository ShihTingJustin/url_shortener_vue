{"version":3,"sources":["webpack:///./src/views/Manager.vue?d70e","webpack:///src/views/Manager.vue","webpack:///./src/views/Manager.vue?659e","webpack:///./src/views/Manager.vue?43ef","webpack:///./src/views/Manager.vue?bf13"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","records","attrs","on","afterDelete","_e","isLoading","$event","_v","length","staticRenderFns","name","components","Record","NavBar","data","created","fetchRecords","methods","computed","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,yDAAyD,CAACF,EAAG,UAAUA,EAAG,MAAM,CAACE,YAAY,oEAAoE,CAAEN,EAAIO,QAAc,OAAEH,EAAG,SAAS,CAACE,YAAY,cAAcE,MAAM,CAAC,QAAUR,EAAIO,SAASE,GAAG,CAAC,eAAeT,EAAIU,eAAeV,EAAIW,KAAKP,EAAG,MAAM,CAACA,EAAG,UAAU,CAACI,MAAM,CAAC,OAASR,EAAIY,WAAWH,GAAG,CAAC,gBAAgB,SAASI,GAAQb,EAAIY,UAAUC,OAAY,IAAI,GAAGT,EAAG,MAAM,CAAEJ,EAAIO,QAAc,OAAEH,EAAG,cAAc,CAACE,YAAY,sBAAsBE,MAAM,CAAC,GAAK,MAAM,CAACR,EAAIc,GAAG,oBAAoBd,EAAIW,MAAM,GAAKX,EAAIO,QAAQQ,SAA4B,IAAlBf,EAAIY,UAAmNZ,EAAIW,KAAlMP,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,IAAI,CAACJ,EAAIc,GAAG,mBAAmBV,EAAG,IAAI,CAACJ,EAAIc,GAAG,WAAWV,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,MAAM,CAACR,EAAIc,GAAG,mBAAmB,MAAe,IACj6BE,EAAkB,G,yGCmCtB,GACEC,KAAM,UACNC,WAAY,CACVC,OAAJ,OACIC,OAAJ,QAEEC,KANF,WAOI,MAAO,CACLd,QAAS,KAGbe,QAXF,WAYIrB,KAAKsB,gBAEPC,QAAS,CACP,aADJ,WACA,4KAEA,mDACA,IAHA,yCAGA,2BAHA,cAIA,+BACA,mBACA,aANA,SAQA,wBACA,gDATA,OAQA,EARA,OAWA,sBACA,+BACA,mBACA,aAEA,+BACA,oBACA,aAlBA,qDAqBA,+BACA,mBACA,aAEA,aACA,eACA,8BAEA,kBA7BA,6DAgCI,YAjCJ,SAiCA,mLAEA,mDAFA,SAGA,UACA,sBACA,yCACA,eACA,oBACA,6BACA,yBACA,sCAVA,UAGA,EAHA,QAYA,cAZA,iCAaA,kCACA,gDAdA,wBAgBA,iBAhBA,QAiBA,4DAjBA,+GAoBA,kBApBA,8DAwBEC,SAAU,OAAZ,OAAY,CAAZ,GACA,gEC5GiV,I,wBCQ7UC,EAAY,eACd,EACA3B,EACAiB,GACA,EACA,KACA,KACA,MAIa,aAAAU,E,6CCnBf","file":"js/chunk-a13471d4.53d6856c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manager-wrapper d-flex flex-column align-items-center\"},[_c('NavBar'),_c('div',{staticClass:\"container d-flex flex-column align-items-center record-container\"},[(_vm.records.length)?_c('Record',{staticClass:\"record-card\",attrs:{\"records\":_vm.records},on:{\"after-delete\":_vm.afterDelete}}):_vm._e(),_c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}})],1)],1),_c('div',[(_vm.records.length)?_c('router-link',{staticClass:\"submit-btn btn px-5\",attrs:{\"to\":\"/\"}},[_vm._v(\"Create another\")]):_vm._e()],1),(!_vm.records.length && _vm.isLoading === false)?_c('div',{staticClass:\"blank-page-text text-center my-auto\"},[_c('p',[_vm._v(\"Nothing here.\")]),_c('p',[_vm._v(\" Let's \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"create one !\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"manager-wrapper d-flex flex-column align-items-center\">\n    <NavBar />\n    <div class=\"container d-flex flex-column align-items-center record-container\">\n      <Record\n        v-if=\"records.length\"\n        :records=\"records\"\n        @after-delete=\"afterDelete\"\n        class=\"record-card\"\n      />\n      <div>\n        <loading :active.sync=\"isLoading\"></loading>\n      </div>\n    </div>\n    <div>\n      <router-link v-if=\"records.length\" to=\"/\" class=\"submit-btn btn px-5\"\n        >Create another</router-link\n      >\n    </div>\n    <div v-if=\"!records.length && isLoading === false\" class=\"blank-page-text text-center my-auto\">\n      <p>Nothing here.</p>\n      <p>\n        Let's\n        <router-link to=\"/\" class=\"\">create one !</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiHelper, Toast } from \"../utils/helpers\";\nimport Record from \"./../components/Record\";\nimport NavBar from \"./../components/NavBar\";\nimport { mapState } from \"vuex\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  name: \"Manager\",\n  components: {\n    Record,\n    NavBar,\n  },\n  data() {\n    return {\n      records: [],\n    };\n  },\n  created() {\n    this.fetchRecords();\n  },\n  methods: {\n    async fetchRecords() {\n      try {\n        const getToken = () => localStorage.getItem(\"token\");\n        if (!getToken()) return this.$router.push(\"/signin\");\n        this.$store.commit(\"switchState\", {\n          status: \"isLoading\",\n          boolean: true,\n        });\n        const res = await apiHelper.get(\"/urls/all\", {\n          headers: { Authorization: `Bearer ${getToken()}` },\n        });\n        this.records = res.data.data;\n        this.$store.commit(\"switchState\", {\n          status: \"isLoading\",\n          boolean: false,\n        });\n        this.$store.commit(\"switchState\", {\n          status: \"isComplete\",\n          boolean: false,\n        });\n      } catch (err) {\n        this.$store.commit(\"switchState\", {\n          status: \"isLoading\",\n          boolean: false,\n        });\n        Toast.fire({\n          icon: \"warning\",\n          title: \"Something wrong ...\",\n        });\n        console.log(err);\n      }\n    },\n    async afterDelete(recordId) {\n      try {\n        const getToken = () => localStorage.getItem(\"token\");\n        const res = await Swal.fire({\n          title: \"Are you sure?\",\n          text: \"You won't be able to revert this!\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Yes, remove it!\",\n        });\n        if (res.isConfirmed) {\n          await apiHelper.delete(`/urls/${recordId}`, {\n            headers: { Authorization: `Bearer ${getToken()}` },\n          });\n          await this.fetchRecords();\n          Swal.fire(\"Deleted!\", \"Your URL has been removed.\", \"success\");\n        } else return;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\", \"isLoading\"]),\n  },\n};\n</script>\n\n<style>\n.manager-wrapper {\n    height: 100%;\n}\n@media (max-width: 576px) {\n  .record-container {\n    margin-top: 50px;\n  }\n\n  .blank-page-text {\n    font-size: 0.7rem;\n  }\n}\n\n@media (min-width: 577px) and (max-width: 768px) {\n  .record-container {\n    margin-top: 70px;\n  }\n  \n  .blank-page-text {\n    font-size: 1rem;\n  }\n}\n\n@media (min-width: 769px) {\n  .record-container {\n    margin-top: 80px;\n  }\n  \n  .blank-page-text {\n    font-size: 1.3rem;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manager.vue?vue&type=template&id=8b84e230&\"\nimport script from \"./Manager.vue?vue&type=script&lang=js&\"\nexport * from \"./Manager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Manager.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manager.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}